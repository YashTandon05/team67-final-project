<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ðŸŒ€Predicting Hurricane Helene</title>
    <link rel="stylesheet" href="style.css" />
    <script src="script.js" type="module"></script>
    <!-- <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson-client@3"></script> -->
    <script src="https://unpkg.com/scrollama"></script>
  </head>
  <body>
    <main>
      <header>
        <h1>Predicting Hurricane Helene</h1>
        <p>
          Interactive data visualization to explore path predictions and weather
          patterns of a major hurricane between September 20, 2024 and October
          15, 2024.
        </p>
      </header>

      <div id="loading-overlay">Loading dataâ€¦</div>
      <div id="datetime-display">
        <div id="date"></div>
        <div id="time"></div>
      </div>

      <!--return to top button-->
      <a href="#viz-wrapper" id="skip-link">Return to Top</a>

      <section id="viz-wrapper">
        <div id="controls-container">
          <button id="feature-toggle" class="toggle-btn">
            Switch to Wind Speed
          </button>
        </div>
        <div id="color-legend"></div>
        <div id="globe-container">
          <!-- SVG will be injected here by script.js -->
        </div>

        <!-- General Interaction Feedback -->
        <div id="interaction-overlay" class="hidden">
          <div id="feedback-message"></div>
        </div>

        <div id="scrolly">
          <article>
            <!-- Scene 1: Title & Globe Intro -->
            <div class="step" data-step="scene1">
              <div class="text-content">
                <h2>Why Are Hurricanes So Hard to Predict?</h2>
                <p>
                  2024 was a year defined by hurricanes â€” and their
                  unpredictability. But what makes predicting a hurricane so
                  challenging? Start scrolling to explore.
                </p>
              </div>
            </div>

            <div class="step" data-step="spacer">
              <div class="text-content">
                <h2>The 2024 Hurricane Season</h2>
                <p>
                  From Mid August to Mid October alone, the Atlantic basin
                  experienced <strong>6 named hurricanes</strong>, from Tropical
                  Storms to Category 5s.
                </p>
                <p>
                  <strong> Instructions</strong>: Scroll to progress through
                  Time. Click and drag on the globe to rotate. Use the mouse
                  wheel to zoom in and out.
                </p>
              </div>
            </div>

            <!-- Scene 2: Helene Appears -->
            <div class="step" data-step="scene2">
              <div class="text-content">
                <h2>Enter Hurricane Helene</h2>
                <p>
                  Weâ€™ll walk through three forecasting challenges using
                  Hurricane Helene. Click to skip to any challenge.
                </p>
                <ul>
                  <li id="ch-button"><a href="#chapter1">1. Intensity</a></li>
                  <li id="ch-button"><a href="#chapter2">2. Track</a></li>
                  <li id="ch-button"><a href="#chapter3">3. Rainfall</a></li>
                </ul>
                <p>Youâ€™ll make predictions â€” just like real forecasters.</p>
              </div>
            </div>

            <!-- Scene 3: Line Graph Enters -->
            <div class="step" data-step="scene3" id="chapter1">
              <div class="text-content">
                <h2>Challenge 1: Intensity</h2>
                <p>
                  A hurricaneâ€™s rainfall rate â€” its intensity â€” is one of the
                  hardest things to forecast.
                </p>
                <p>Below is Heleneâ€™s early rainfall trend over Florida.</p>
              </div>
            </div>

            <!-- Scene 4: User Guess Prompt (Intensity) -->
            <div
              class="step"
              data-step="scene4"
              data-behavior="guess-intensity"
            >
              <div class="text-content">
                <h2>Your Turn</h2>
                <p>
                  <strong
                    >When do you think Heleneâ€™s max rainfall will exceed 50
                    mm/hr (threshold for "violent" rainfall) in Florida?</strong
                  >
                </p>
                <div id="line-graph-viz"></div>
                <p>Click on the timeline to make your guess.</p>
                <p
                  id="reality-text"
                  style="
                    display: none;
                    margin-top: 15px;
                    font-style: italic;
                    color: #2b9c85;
                  "
                >
                  Models had difficulty predicting this spike â€” intensity
                  forecasting is full of uncertainty.
                </p>
              </div>
            </div>

            <!-- Scene 5: Reveal (Intensity) -->
            <div class="step" data-step="scene5">
              <div class="text-content">
                <h2>The Reality</h2>
                <p>
                  Models had difficulty predicting this jump â€” intensity
                  forecasting is full of uncertainty.
                </p>
              </div>
            </div>

            <!-- Scene 6: Return to Globe -->
            <div class="step" data-step="scene6" id="chapter2">
              <div class="text-content">
                <h2>Challenge 2: Track</h2>
                <p>
                  Next: forecasting where a hurricane will go. Here's an
                  approximate center of the storm. Can you guys the path of the
                  storm over the next 36 hours? Click anywhere on the map to
                  cast your prediction.
                </p>

                <p>
                  Also, try visualizing <strong>wind speed</strong> and
                  direction by toggling the button in the top right. Does that
                  help your prediction?
                </p>
              </div>
            </div>

            <!-- Scene 7: Expert Cone Appears -->
            <div class="step" data-step="scene7">
              <div class="text-content">
                <h2>How did you do?</h2>
                <p>
                  You're approximate path is shown in red, and the official path
                  is shown in green.
                </p>
              </div>
            </div>

            <!-- Scene 8: User Guess Prompt (Track) -->
            <div class="step" data-step="scene8" data-behavior="guess-track">
              <div class="text-content">
                <h2>Try again!</h2>
              </div>
            </div>

            <!-- Scene 9: Reveal (Track) -->
            <div class="step" data-step="scene9">
              <div class="text-content">
                <h2>Your final shot!</h2>
                <p>
                  How did your guess compare to the official track over 36
                  hours? Do you have a future in hurricane forecasting?
                </p>
                <p>
                  Track forecasting is difficult because small shifts in the
                  stormâ€™s center can lead to large changes in impact areas.
                </p>
              </div>
            </div>

            <!-- Scene 10: Rainfall Prediction Map -->
            <div class="step" data-step="scene10" id="chapter3">
              <div class="text-content">
                <h2>Challenge 3: Rainfall Distribution</h2>
                <p>
                  Finally: predicting where the worst rainfall will fall. Even
                  tiny track shifts can reshape the rainfall footprint
                  completely.
                </p>
              </div>
            </div>

            <!-- Scene 11: User Guess Prompt (Rainfall) -->
            <div class="step" data-step="scene11" data-behavior="guess-regions">
              <div class="text-content">
                <h2>Your Turn</h2>
                <p>
                  <strong
                    >Which region do you think will get the worst rainfall from
                    Helene?</strong
                  >
                </p>
                <p>Select an area on the map.</p>
              </div>
            </div>

            <!-- Scene 12: Reveal (Rainfall) -->
            <div class="step" data-step="scene12">
              <div class="text-content">
                <h2>Complex Factors</h2>
                <p>
                  Forecast models often misplace rainfall because it depends on
                  storm speed, track wobble, and moisture inflow.
                </p>
                <div id="bar-chart-viz"></div>
              </div>
            </div>

            <!-- Scene 13: Wrap-Up -->
            <div class="step" data-step="scene13">
              <div class="text-content">
                <h2>Summary</h2>
                <p>
                  Hurricane prediction is difficult because every forecast
                  involves uncertainty:
                </p>
                <ul>
                  <li><strong>Intensity</strong>: When will rainfall spike?</li>
                  <li><strong>Track</strong>: Where will the storm travel?</li>
                  <li>
                    <strong>Rainfall</strong>: Who gets the worst impacts?
                  </li>
                </ul>
                <p>
                  Heleneâ€™s unpredictability made it dangerous â€” and this is true
                  for many storms.
                </p>
              </div>
            </div>
          </article>
        </div>
      </section>
    </main>
  </body>
</html>
